syntax = "proto3";

package myplay;

option go_package = "./pb";

import "packet.proto";
import "enum.gen.proto";
import "database.proto";

// 认证请求
message AuthReq {
  string    name       = 1; // 玩家账号
  string    email      = 2; // 邮箱
  string    phone      = 3; // 手机号
  string    password   = 4; // 密码
  Platform  platform   = 5; // 平台
  LoginType login_type = 6; // 登录类型
  string    ip         = 7; // ip地址
  string    device_id  = 8; // 设备id
  string    version    = 9; // 版本号
}

message AuthRsp {
  packet.RspHead head  = 1;
  uint64         uid   = 2; // 玩家uid
  string         url   = 3; // 游戏服url
  string         token = 4;
}

// 登录协议
message LoginReq {
  string     token = 1;
  PlayerData data  = 2;
}

message LoginRsp {
  packet.RspHead head = 1;
}

// 提出玩家
message KickNotify {
  uint64 uid        = 1;
  int64  login_time = 2;
  uint32 node_id    = 3;
}

// 心跳协议
message HeartReq {
}

message HeartRsp {
  packet.RspHead head       = 1; // 协议头
  int64          utc        = 2; // UTC时区
  int64          begin_time = 3; // 请求时间
  int64          end_time   = 4; // 响应时间
}
